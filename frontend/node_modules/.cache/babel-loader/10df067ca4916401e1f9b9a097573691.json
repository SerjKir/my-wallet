{"ast":null,"code":"import _slicedToArray from\"C:/Users/Admin/Projects/my-wallet/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useEffect,useState}from'react';export var useAuth=function useAuth(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),ready=_useState4[0],setReady=_useState4[1];var login=useCallback(function(token){setToken(token);localStorage.setItem('token',token);},[]);var logout=useCallback(function(){setToken(null);localStorage.removeItem('token');},[]);useEffect(function(){var token=localStorage.getItem('token');if(token){login(token);}setReady(true);},[login]);return{login:login,logout:logout,token:token,ready:ready};};","map":{"version":3,"names":["useCallback","useEffect","useState","useAuth","token","setToken","ready","setReady","login","localStorage","setItem","logout","removeItem","getItem"],"sources":["C:/Users/Admin/Projects/my-wallet/frontend/src/hooks/auth.hook.js"],"sourcesContent":["import {useCallback, useEffect, useState} from 'react';\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(null);\r\n  const [ready, setReady] = useState(false);\r\n\r\n  const login = useCallback((token) => {\r\n    setToken(token);\r\n    localStorage.setItem('token', token);\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    localStorage.removeItem('token');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token')\r\n    if (token) {\r\n      login(token)\r\n    }\r\n    setReady(true)\r\n  }, [login])\r\n\r\n  return {login, logout, token, ready}\r\n}"],"mappings":"gIAAA,OAAQA,WAAR,CAAqBC,SAArB,CAAgCC,QAAhC,KAA+C,OAA/C,CAEA,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAC3B,cAA0BD,QAAQ,CAAC,IAAD,CAAlC,wCAAOE,KAAP,eAAcC,QAAd,eACA,eAA0BH,QAAQ,CAAC,KAAD,CAAlC,yCAAOI,KAAP,eAAcC,QAAd,eAEA,GAAMC,MAAK,CAAGR,WAAW,CAAC,SAACI,KAAD,CAAW,CACnCC,QAAQ,CAACD,KAAD,CAAR,CACAK,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BN,KAA9B,EACD,CAHwB,CAGtB,EAHsB,CAAzB,CAKA,GAAMO,OAAM,CAAGX,WAAW,CAAC,UAAM,CAC/BK,QAAQ,CAAC,IAAD,CAAR,CACAI,YAAY,CAACG,UAAb,CAAwB,OAAxB,EACD,CAHyB,CAGvB,EAHuB,CAA1B,CAKAX,SAAS,CAAC,UAAM,CACd,GAAMG,MAAK,CAAGK,YAAY,CAACI,OAAb,CAAqB,OAArB,CAAd,CACA,GAAIT,KAAJ,CAAW,CACTI,KAAK,CAACJ,KAAD,CAAL,CACD,CACDG,QAAQ,CAAC,IAAD,CAAR,CACD,CANQ,CAMN,CAACC,KAAD,CANM,CAAT,CAQA,MAAO,CAACA,KAAK,CAALA,KAAD,CAAQG,MAAM,CAANA,MAAR,CAAgBP,KAAK,CAALA,KAAhB,CAAuBE,KAAK,CAALA,KAAvB,CAAP,CACD,CAvBM"},"metadata":{},"sourceType":"module"}