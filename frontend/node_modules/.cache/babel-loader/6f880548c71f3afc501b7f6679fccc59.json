{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Admin/Projects/my-wallet/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Admin/Projects/my-wallet/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Admin/Projects/my-wallet/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useContext,useEffect,useState}from'react';import{Grid}from'@mui/material';import Main from'../../components/MainInfo';import Cards from'../../components/Cards';import{getMe}from'../../api/mainApi';import{AuthContext}from'../../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(){var _useContext=useContext(AuthContext),ready=_useContext.ready,isAuthenticated=_useContext.isAuthenticated;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),changeItemData=_useState4[0],setChangeItemData=_useState4[1];var getUserData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getMe();case 2:user=_context.sent;setUserData(user);case 4:case\"end\":return _context.stop();}}},_callee);})),[]);useEffect(function(){if(ready){if(isAuthenticated&&window.localStorage.getItem('token')){getUserData().then();}}},[ready,isAuthenticated,getUserData]);return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:0,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:5,display:'flex',justifyContent:'center',children:/*#__PURE__*/_jsx(Main,{itemData:setChangeItemData,getUserData:getUserData,userData:userData})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:7,display:'flex',justifyContent:'center',children:/*#__PURE__*/_jsx(Cards,{setChangeItemData:setChangeItemData,changeItemData:changeItemData,cards:userData===null||userData===void 0?void 0:userData.cards,getUserData:getUserData})})]});};export default Index;","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useState","Grid","Main","Cards","getMe","AuthContext","Index","ready","isAuthenticated","userData","setUserData","changeItemData","setChangeItemData","getUserData","user","window","localStorage","getItem","then","cards"],"sources":["C:/Users/Admin/Projects/my-wallet/frontend/src/pages/Home/index.js"],"sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react';\r\nimport {Grid} from '@mui/material';\r\nimport Main from '../../components/MainInfo';\r\nimport Cards from '../../components/Cards';\r\nimport {getMe} from '../../api/mainApi';\r\nimport {AuthContext} from '../../context/AuthContext';\r\n\r\nconst Index = () => {\r\n  const {ready, isAuthenticated} = useContext(AuthContext);\r\n  const [userData, setUserData] = useState(null);\r\n  const [changeItemData, setChangeItemData] = useState(null);\r\n\r\n  const getUserData = useCallback( async () => {\r\n    const user = await getMe();\r\n    setUserData(user);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (ready) {\r\n      if (isAuthenticated && window.localStorage.getItem('token')) {\r\n        getUserData().then();\r\n      }\r\n    }\r\n  }, [ready, isAuthenticated, getUserData])\r\n\r\n  return (\r\n    <Grid container spacing={0}>\r\n      <Grid item xs={5} display={'flex'} justifyContent={'center'}>\r\n        <Main itemData={setChangeItemData} getUserData={getUserData} userData={userData}/>\r\n      </Grid>\r\n      <Grid item xs={7} display={'flex'} justifyContent={'center'}>\r\n        <Cards setChangeItemData={setChangeItemData} changeItemData={changeItemData} cards={userData?.cards} getUserData={getUserData}/>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Index;"],"mappings":"gZAAA,MAAOA,MAAP,EAAeC,WAAf,CAA4BC,UAA5B,CAAwCC,SAAxC,CAAmDC,QAAnD,KAAkE,OAAlE,CACA,OAAQC,IAAR,KAAmB,eAAnB,CACA,MAAOC,KAAP,KAAiB,2BAAjB,CACA,MAAOC,MAAP,KAAkB,wBAAlB,CACA,OAAQC,KAAR,KAAoB,mBAApB,CACA,OAAQC,WAAR,KAA0B,2BAA1B,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,gBAAiCR,UAAU,CAACO,WAAD,CAA3C,CAAOE,KAAP,aAAOA,KAAP,CAAcC,eAAd,aAAcA,eAAd,CACA,cAAgCR,QAAQ,CAAC,IAAD,CAAxC,wCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAA4CV,QAAQ,CAAC,IAAD,CAApD,yCAAOW,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,YAAW,CAAGhB,WAAW,wEAAE,oKACZO,MAAK,EADO,QACzBU,IADyB,eAE/BJ,WAAW,CAACI,IAAD,CAAX,CAF+B,sDAAF,GAG5B,EAH4B,CAA/B,CAKAf,SAAS,CAAC,UAAM,CACd,GAAIQ,KAAJ,CAAW,CACT,GAAIC,eAAe,EAAIO,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAvB,CAA6D,CAC3DJ,WAAW,GAAGK,IAAd,GACD,CACF,CACF,CANQ,CAMN,CAACX,KAAD,CAAQC,eAAR,CAAyBK,WAAzB,CANM,CAAT,CAQA,mBACE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,wBACE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,OAAO,CAAE,MAA3B,CAAmC,cAAc,CAAE,QAAnD,uBACE,KAAC,IAAD,EAAM,QAAQ,CAAED,iBAAhB,CAAmC,WAAW,CAAEC,WAAhD,CAA6D,QAAQ,CAAEJ,QAAvE,EADF,EADF,cAIE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,OAAO,CAAE,MAA3B,CAAmC,cAAc,CAAE,QAAnD,uBACE,KAAC,KAAD,EAAO,iBAAiB,CAAEG,iBAA1B,CAA6C,cAAc,CAAED,cAA7D,CAA6E,KAAK,CAAEF,QAAF,SAAEA,QAAF,iBAAEA,QAAQ,CAAEU,KAA9F,CAAqG,WAAW,CAAEN,WAAlH,EADF,EAJF,GADF,CAUD,CA5BD,CA8BA,cAAeP,MAAf"},"metadata":{},"sourceType":"module"}